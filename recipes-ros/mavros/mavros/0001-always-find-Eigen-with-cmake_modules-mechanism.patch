From 18f29b10482c6c6b9216709d6ba632a73d738651 Mon Sep 17 00:00:00 2001
From: Lukas Bulwahn <lukas.bulwahn@bmw-carit.de>
Date: Sat, 29 Apr 2017 21:44:22 +0200
Subject: [PATCH] always find Eigen with cmake_modules mechanism

---
 mavros/CMakeLists.txt | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

diff --git a/mavros/CMakeLists.txt b/mavros/CMakeLists.txt
index 3b3a0bd..bcc7924 100644
--- a/mavros/CMakeLists.txt
+++ b/mavros/CMakeLists.txt
@@ -26,14 +26,10 @@ find_package(catkin REQUIRED COMPONENTS
 # find_package(Boost REQUIRED COMPONENTS system)
 find_package(Boost REQUIRED COMPONENTS system)
 
-find_package(Eigen3)
-if(NOT EIGEN3_FOUND)
-  # Fallback to cmake_modules
-  find_package(cmake_modules REQUIRED)
-  find_package(Eigen REQUIRED)
-  set(EIGEN3_INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS})
-  set(EIGEN3_LIBRARIES ${EIGEN_LIBRARIES})
-endif()
+find_package(cmake_modules REQUIRED)
+find_package(Eigen REQUIRED)
+set(EIGEN3_INCLUDE_DIRS ${EIGEN_INCLUDE_DIRS})
+set(EIGEN3_LIBRARIES ${EIGEN_LIBRARIES})
 
 include(EnableCXX11)
 include(MavrosMavlink)
-- 
1.9.1

